<div #origin>
  <form [formGroup]="searchBox" class="search-box">
    <a style="cursor: pointer;" (click)="show(tpl, origin)">
      <fa-icon size="2x" transform="left-2 down-2" [icon]="faSearch"></fa-icon>
    </a>
    <input
      (mouseenter)="show(tpl, origin)"
      formControlName="loanSearch"
      class="loan-search"
      style="cursor: pointer;"
      type="text"
    />
    <a style="cursor: pointer;" (click)="clear()">
      <fa-icon size="lg" transform="left-2" [icon]="faTimes"></fa-icon>
    </a>
  </form>
</div>

<ng-template class="search-modal" #tpl let-close="close">
  <div class="grid-container hza-elevation-24">
    <div class="close-button">
      <fa-icon (click)="close()" [icon]="faTimes"></fa-icon>
    </div>
    <div class="loan-search-form item--full">
      <hza-loan-search-form
        [loanQuery]="loanQuery"
        (query)="searchLoans($event)"
      ></hza-loan-search-form>
    </div>
    <div *ngIf="loansLoaded" class="loans-list">
      <ng-container *ngIf="loans.length > 0">
        <hza-loans-list
          [loans]="loans"
          (loanNumber)="selectedLoan($event)"
        ></hza-loans-list>
      </ng-container>
    </div>
  </div>
</ng-template>
